{"ast":null,"code":"const {\n  MongoClient,\n  ServerApiVersion\n} = require('mongodb');\nconst uri = process.env.MONGODB_URI;\n\n// Create a MongoClient with a MongoClientOptions object to set the Stable API version\nconst client = new MongoClient(uri, {\n  serverApi: {\n    version: ServerApiVersion.v1,\n    strict: true,\n    deprecationErrors: true\n  }\n});\nasync function connectClient() {\n  await client.connect();\n  console.log(\"Connected to MongoDB!\");\n}\nasync function closeClient() {\n  await client.close();\n  console.log(\"Disconnected from MongoDB!\");\n}\nasync function readData(dbName, collectionName, query) {\n  try {\n    await connectClient();\n    const database = client.db(dbName);\n    const collection = database.collection(collectionName);\n    const data = await collection.find(query).toArray();\n    return data;\n  } finally {\n    await closeClient();\n  }\n}\nasync function writeData(dbName, collectionName, data) {\n  try {\n    await connectClient();\n    const database = client.db(dbName);\n    const collection = database.collection(collectionName);\n    const result = await collection.insertOne(data);\n    return result;\n  } finally {\n    await closeClient();\n  }\n}\nmodule.exports = {\n  readData,\n  writeData\n};","map":{"version":3,"names":["MongoClient","ServerApiVersion","require","uri","process","env","MONGODB_URI","client","serverApi","version","v1","strict","deprecationErrors","connectClient","connect","console","log","closeClient","close","readData","dbName","collectionName","query","database","db","collection","data","find","toArray","writeData","result","insertOne","module","exports"],"sources":["C:/Users/chris/Desktop/insite/src/utils/dataUtil.js"],"sourcesContent":["const { MongoClient, ServerApiVersion } = require('mongodb');\r\nconst uri = process.env.MONGODB_URI;\r\n\r\n// Create a MongoClient with a MongoClientOptions object to set the Stable API version\r\nconst client = new MongoClient(uri, {\r\n  serverApi: {\r\n    version: ServerApiVersion.v1,\r\n    strict: true,\r\n    deprecationErrors: true,\r\n  }\r\n});\r\n\r\nasync function connectClient() {\r\n  await client.connect();\r\n  console.log(\"Connected to MongoDB!\");\r\n}\r\n\r\nasync function closeClient() {\r\n  await client.close();\r\n  console.log(\"Disconnected from MongoDB!\");\r\n}\r\n\r\nasync function readData(dbName, collectionName, query) {\r\n  try {\r\n    await connectClient();\r\n    const database = client.db(dbName);\r\n    const collection = database.collection(collectionName);\r\n    const data = await collection.find(query).toArray();\r\n    return data;\r\n  } finally {\r\n    await closeClient();\r\n  }\r\n}\r\n\r\nasync function writeData(dbName, collectionName, data) {\r\n  try {\r\n    await connectClient();\r\n    const database = client.db(dbName);\r\n    const collection = database.collection(collectionName);\r\n    const result = await collection.insertOne(data);\r\n    return result;\r\n  } finally {\r\n    await closeClient();\r\n  }\r\n}\r\n\r\nmodule.exports = {\r\n  readData,\r\n  writeData\r\n};\r\n"],"mappings":"AAAA,MAAM;EAAEA,WAAW;EAAEC;AAAiB,CAAC,GAAGC,OAAO,CAAC,SAAS,CAAC;AAC5D,MAAMC,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,WAAW;;AAEnC;AACA,MAAMC,MAAM,GAAG,IAAIP,WAAW,CAACG,GAAG,EAAE;EAClCK,SAAS,EAAE;IACTC,OAAO,EAAER,gBAAgB,CAACS,EAAE;IAC5BC,MAAM,EAAE,IAAI;IACZC,iBAAiB,EAAE;EACrB;AACF,CAAC,CAAC;AAEF,eAAeC,aAAaA,CAAA,EAAG;EAC7B,MAAMN,MAAM,CAACO,OAAO,CAAC,CAAC;EACtBC,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;AACtC;AAEA,eAAeC,WAAWA,CAAA,EAAG;EAC3B,MAAMV,MAAM,CAACW,KAAK,CAAC,CAAC;EACpBH,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC;AAC3C;AAEA,eAAeG,QAAQA,CAACC,MAAM,EAAEC,cAAc,EAAEC,KAAK,EAAE;EACrD,IAAI;IACF,MAAMT,aAAa,CAAC,CAAC;IACrB,MAAMU,QAAQ,GAAGhB,MAAM,CAACiB,EAAE,CAACJ,MAAM,CAAC;IAClC,MAAMK,UAAU,GAAGF,QAAQ,CAACE,UAAU,CAACJ,cAAc,CAAC;IACtD,MAAMK,IAAI,GAAG,MAAMD,UAAU,CAACE,IAAI,CAACL,KAAK,CAAC,CAACM,OAAO,CAAC,CAAC;IACnD,OAAOF,IAAI;EACb,CAAC,SAAS;IACR,MAAMT,WAAW,CAAC,CAAC;EACrB;AACF;AAEA,eAAeY,SAASA,CAACT,MAAM,EAAEC,cAAc,EAAEK,IAAI,EAAE;EACrD,IAAI;IACF,MAAMb,aAAa,CAAC,CAAC;IACrB,MAAMU,QAAQ,GAAGhB,MAAM,CAACiB,EAAE,CAACJ,MAAM,CAAC;IAClC,MAAMK,UAAU,GAAGF,QAAQ,CAACE,UAAU,CAACJ,cAAc,CAAC;IACtD,MAAMS,MAAM,GAAG,MAAML,UAAU,CAACM,SAAS,CAACL,IAAI,CAAC;IAC/C,OAAOI,MAAM;EACf,CAAC,SAAS;IACR,MAAMb,WAAW,CAAC,CAAC;EACrB;AACF;AAEAe,MAAM,CAACC,OAAO,GAAG;EACfd,QAAQ;EACRU;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}